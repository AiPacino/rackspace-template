# Configuration for "multi" host type

##############################################
# Class definitions.
classes:
  - site_profile::db
  - site_profile::web

##############################################
# Firewall Rules.
site_profile::web::firewall_rules:
  '100 allow http and https access':
      port: [80, 443]

##################################################
# Web Configuration.

# Default to PHP 5.6 from IUS
php::mod_php5::php_package_name: 'php56u'
php::common::common_package_name: 'php56u-common'
php::cli::cli_package_name: 'php56u-cli'
site_profile::web::php_opcache_packagename: 'php56u-opcache'
php::fpm::daemon::package_name: 'php56u-fpm'
site_profile::web::php_packages:
  - php56u-gd
  - php56u-imap
  - php56u-mbstring
  - php56u-mcrypt
  - php56u-mysqlnd
  - php56u-pdo
  - php56u-pear
  - php56u-soap
  - php56u-xml
  - php56u-xmlrpc

site_profile::web::php_fpm_conf:
  www:
    package_name: 'php56u-fpm'


##################################################
# Munin Configuration.

munin::plugins:
  - apache_accesses
  - apache_volume
  - apache_processes
  - mysql
  - php_apc_files: php_apc_
  - php_apc_fragmentation: php_apc_
  - php_apc_hit_miss: php_apc_
  - php_apc_purge: php_apc_
  - php_apc_rates: php_apc_
  - php_apc_usage: php_apc_

##################################################
# User Configuration.

# Multi-purpose servers need the deploy user
user_accounts:
  deploy:
    uid: 3500
    ssh_key_type: ssh-rsa
    ssh_key: AAAAB3NzaC1yc2EAAAADAQABAAABAQCg5U1E0DPE8UVBYwy703ZUqnNoEFd3TekaoqYzoh1o3FiXjgBzPLl5cccKXdvUbT8ZSUq0ytch0qXbjWArkI3L0uJ961NpOy5aUPkG0WiaQBHMuIXzkaR/geIvVKkN5vcyMi5rEDV+kzx2Uof0yh9XSZ1+bEioxb8+7areP/j+VK23k2QJu67gIwXGuTh5aZ4bjEBou4Zr8Oib5ZqLRY1YUDMoyaZit0lpcIVaVQ826ac+kae4u7ASAN+KHKGrayfHMw1w9xjk71Ollx27O9BROpvIfRt6bNaf/MaKu6Zz9MFMnYxco16JEMr141XGW70utb2i2rReDkVPQit/B/PR
